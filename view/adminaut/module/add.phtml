<?php

/** @var \Zend\Form\Form $form */
$form = $this->form;

$form->setAttribute('action', $this->url('adminaut/module/action', [
    'module_id' => $this->moduleOption->getModuleId(),
    'mode' => 'add',
]));
$form->setAttribute('data-doubleClick', true);
$form->prepare();

$pages = [
    [
        'title' => $this->moduleOption->getModuleName(),
        'url' => $this->url('adminaut/module/list', [
            'module_id' => $this->moduleOption->getModuleId(),
        ]),
    ],
    [
        'title' => _('Add'),
    ],
];

?>
<section class="content-header">
    <h1>
        <?php echo $this->escapeHtml($this->moduleOption->getModuleName()) ?>
    </h1>
    <?php echo $this->partial('adminaut/partial/breadcrumbs', ['pages' => $pages]) ?>
</section>

<section class="content">
    <?php echo $this->form()->openTag($form) ?>
    <div class="row">
        <div class="col-xs-12 col-sm-8">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title"><?php echo $this->translate('Add record') ?></h3>
                </div>
                <div class="box-body">
                    <?php echo $this->partial('adminaut/partial/messages') ?>
                    <?php echo $this->formCollection($form) ?>
                </div>
                <div class="box-footer">
                    <button type="submit" name="submit" class="btn btn-primary" value="create">
                        <?php echo $this->translate('Create') ?>
                    </button>
                    <button type="submit" name="submit" class="btn btn-default" value="create-and-continue">
                        <?php echo $this->translate('Create and continue') ?>
                    </button>
                    <button type="submit" name="submit" class="btn btn-default" value="create-and-new">
                        <?php echo $this->translate('Create and new') ?>
                    </button>
                    <a href="<?php echo $this->url('adminaut/module/list', ['module_id' => $this->moduleOption->getModuleId()]) ?>" class="btn btn-link">
                        <?php echo $this->translate('Back to list') ?>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <?php echo $this->form()->closeTag() ?>
</section>

<?php echo $this->partial('adminaut/partial/changeModal', ['formId' => $form->getName()]) ?>
